{"ast":null,"code":"var _jsxFileName = \"/Users/yeqinghan/mp4/client/src/TodoList.js\";\nimport React, { Component } from 'react';\nimport { getList, addToList, deleteItem, updateItem } from \"./ListFunctions\";\n\nclass TodoList extends Component {\n  constructor() {\n    super();\n\n    this.onChange = event => {\n      this.setState({\n        term: event.target.value,\n        editDisabled: \"disabled\"\n      });\n      console.log(this.state.editDisabled);\n    };\n\n    this.getAll = () => {\n      getList().then(data => {\n        this.setState({\n          term: \"\",\n          items: [...data]\n        }, () => {\n          console.log(this.state.items);\n        });\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      addToList(this.state.term).then(() => {\n        this.getAll();\n      });\n    };\n\n    this.onUpdate = e => {\n      e.preventDefault();\n      updateItem(this.state.term, this.state.id).then(() => {\n        this.getAll();\n      });\n    };\n\n    this.onEdit = (item, itemid, e) => {\n      e.preventDefault();\n      this.setState({\n        id: itemid,\n        term: item\n      });\n    };\n\n    this.onDelete = (val, e) => {\n      e.preventDefault();\n      deleteItem(val);\n      var data = [...this.state.items];\n      data.filter(function (item, index) {\n        if (item[1] === val) {\n          data.splice(index, 1);\n        }\n\n        return true;\n      });\n      this.setState({\n        items: [...data]\n      });\n    };\n\n    this.state = {\n      id: \"\",\n      term: \"\",\n      editDisabled: false,\n      items: []\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getAll();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputEmail1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 25\n      }\n    }, \"Task Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      id: \"exampleInputEmail1\",\n      value: this.state.term || \"\",\n      onChange: this.onChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.onUpdate.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 33\n      }\n    }, \"Update\")))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onSubmit.bind(this),\n      className: \"btn btn-success btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }\n    }, this.state.items.map((item, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, item[0]), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      href: \"\",\n      className: \"btn btn-info mr-1\",\n      disabled: this.state.editDisabled,\n      onClick: this.onEdit.bind(this, item[0], item[1]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 33\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      href: \"\",\n      className: \"btn btn-danger\",\n      onClick: this.onDelete.bind(this, item[1]),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 33\n      }\n    }, \"Delete\")))))));\n  }\n\n}\n\nexport default TodoList;","map":{"version":3,"sources":["/Users/yeqinghan/mp4/client/src/TodoList.js"],"names":["React","Component","getList","addToList","deleteItem","updateItem","TodoList","constructor","onChange","event","setState","term","target","value","editDisabled","console","log","state","getAll","then","data","items","onSubmit","e","preventDefault","onUpdate","id","onEdit","item","itemid","onDelete","val","filter","index","splice","bind","componentDidMount","render","map"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { getList, addToList, deleteItem, updateItem } from \"./ListFunctions\"\n\nclass TodoList extends Component {\n    constructor() {\n        super();\n        this.state = {\n            id: \"\",\n            term: \"\",\n            editDisabled: false,\n            items: []\n        };\n\n        this.onSubmit = this.onSubmit.bind(this);\n        this.onChange = this.onChange.bind(this);\n    }\n\n    componentDidMount() {\n        this.getAll();\n    }\n\n    onChange = event => {\n        this.setState({ term: event.target.value, editDisabled: \"disabled\" });\n        console.log(this.state.editDisabled);\n    };\n\n    getAll = () => {\n        getList().then(data => {\n            this.setState(\n                {\n                    term: \"\",\n                    items: [...data]\n                },\n                () => {\n                    console.log(this.state.items);\n                }\n            );\n        });\n    };\n\n    onSubmit = e => {\n        e.preventDefault();\n        addToList(this.state.term).then(() => {\n            this.getAll();\n        });\n    };\n\n    onUpdate = e => {\n        e.preventDefault();\n        updateItem(this.state.term, this.state.id).then(() => {\n            this.getAll();\n        });\n    };\n\n    onEdit = (item, itemid, e) => {\n        e.preventDefault();\n        this.setState({\n            id: itemid,\n            term: item\n        });\n    };\n\n    onDelete = (val, e) => {\n        e.preventDefault();\n        deleteItem(val);\n\n        var data = [...this.state.items];\n        data.filter(function(item, index) {\n            if (item[1] === val) {\n                data.splice(index, 1);\n            }\n            return true;\n        });\n        this.setState({ items: [...data] });\n    };\n\n    render() {\n        return (\n            <div className=\"col-md-12\">\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"exampleInputEmail1\">Task Name</label>\n                        <div className=\"row\">\n                            <div className=\"col-md-9\">\n                                <input\n                                    type=\"text\"\n                                    className=\"form-control\"\n                                    id=\"exampleInputEmail1\"\n                                    value={this.state.term || \"\"}\n                                    onChange={this.onChange.bind(this)}\n                                />\n                            </div>\n                            <div className=\"col-md-2\">\n                                <button\n                                    className=\"btn btn-primary\"\n                                    onClick={this.onUpdate.bind(this)}\n                                >\n                                    Update\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                    <button\n                        type=\"submit\"\n                        onClick={this.onSubmit.bind(this)}\n                        className=\"btn btn-success btn-block\"\n                    >\n                        Submit\n                    </button>\n                </form>\n                <table className=\"table\">\n                    <tbody>\n                    {this.state.items.map((item, index) => (\n                        <tr key={index}>\n                            <td className=\"text-left\">{item[0]}</td>\n                            <td className=\"text-right\">\n                                <button\n                                    href=\"\"\n                                    className=\"btn btn-info mr-1\"\n                                    disabled={this.state.editDisabled}\n                                    onClick={this.onEdit.bind(this, item[0], item[1])}\n                                >\n                                    Edit\n                                </button>\n                                <button\n                                    href=\"\"\n                                    className=\"btn btn-danger\"\n                                    onClick={this.onDelete.bind(this, item[1])}\n                                >\n                                    Delete\n                                </button>\n                            </td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\nexport default TodoList;"]},"metadata":{},"sourceType":"module"}